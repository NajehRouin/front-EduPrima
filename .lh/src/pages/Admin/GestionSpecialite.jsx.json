{
    "sourceFile": "src/pages/Admin/GestionSpecialite.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1748452830252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748453603588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,172 @@\n-import React from \"react\";\r\n+import React, { useEffect, useState } from \"react\";\r\n+import Apiclasse from \"../../Api/classe\";\r\n+import { FiEdit, FiTrash2 } from \"react-icons/fi\";\r\n \r\n+\r\n+\r\n+\r\n+import AjouterSpecialite from \"../../components/AjouterSpecialite\";\r\n+import ApiSpecialite from \"../../Api/Specialite\";\r\n+\r\n function GestionSpecialite() {\r\n-  return <div>GestionSpecialite</div>;\r\n+const [specialtes,setSpecialites]=useState([])\r\n+  const [currentPage, setCurrentPage] = useState(1);\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const rowsPerPage = 3;\r\n+ const [showModalSpecialite, setShowModalSpecialite] = useState(false);\r\n+ const getAllSpecialite = async () => {\r\n+    try {\r\n+      const dataResponse = await fetch(ApiSpecialite.getAllSpecialite.url, {\r\n+        method: ApiSpecialite.getAllSpecialite.method,\r\n+        credentials: \"include\",\r\n+        headers: {\r\n+          \"Content-Type\": \"application/json\",\r\n+        },\r\n+      });\r\n+\r\n+      const response = await dataResponse.json();\r\n+      setSpecialites(response?.result || []);\r\n+      console.log(\"response?.result\", response?.result);\r\n+    } catch (error) {\r\n+      console.log(\"Erreur lors de la récupération des specialite\", error);\r\n+    }\r\n+  };\r\n+\r\n+\r\n+  useEffect(()=>{\r\n+    getAllSpecialite()\r\n+  },[])\r\n+\r\n+   const filteredSpecilaite = specialtes.filter(\r\n+    (c) =>\r\n+      c.label.toLowerCase().includes(searchTerm.toLowerCase()) \r\n+  );\r\n+\r\n+  const totalPages = Math.ceil(filteredSpecilaite.length / rowsPerPage);\r\n+  const paginatedData = filteredSpecilaite.slice(\r\n+    (currentPage - 1) * rowsPerPage,\r\n+    currentPage * rowsPerPage\r\n+  );\r\n+\r\n+\r\n+  return (\r\n+ <div className=\"p-6 bg-white shadow-md rounded-xl max-w-6xl mx-auto mt-10\">\r\n+      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4\">\r\n+        <input\r\n+          type=\"text\"\r\n+          placeholder=\"Rechercher une specialite...\"\r\n+          value={searchTerm}\r\n+          onChange={(e) => setSearchTerm(e.target.value)}\r\n+          className=\"w-full md:w-1/3 px-4 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n+        />\r\n+        <div className=\"flex gap-3\">\r\n+      \r\n+          <button\r\n+            onClick={() => setShowModalSpecialite(true)}\r\n+            className=\"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition\"\r\n+          >\r\n+            Ajouter Spécialité\r\n+          </button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg overflow-hidden\">\r\n+          <thead className=\"bg-blue-100 text-blue-800 text-sm font-semibold\">\r\n+            <tr>\r\n+              <th className=\"px-6 py-3 text-left\">Label</th>\r\n+             \r\n+              <th className=\"px-6 py-3 text-left\">Actions</th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody className=\"divide-y divide-gray-100 text-gray-700\">\r\n+            {filteredSpecilaite.length > 0 ? (\r\n+              filteredSpecilaite?.map((sp) => (\r\n+                <tr key={sp._id} className=\"hover:bg-gray-50\">\r\n+                  <td className=\"px-6 py-4\">{sp.label}</td>\r\n+           \r\n+                \r\n+                  <td className=\"px-6 py-4 flex gap-4 items-center\">\r\n+                    <button\r\n+                     // onClick={() => handleEdit(classe)}\r\n+                      className=\"text-blue-600 hover:text-blue-800\"\r\n+                      title=\"Modifier\"\r\n+                    >\r\n+                      <FiEdit size={18} />\r\n+                    </button>\r\n+                    <button\r\n+                     // onClick={() => handleDelete(classe)}\r\n+                      className=\"text-red-600 hover:text-red-800\"\r\n+                      title=\"Supprimer\"\r\n+                    >\r\n+                      <FiTrash2 size={18} />\r\n+                    </button>\r\n+                  </td>\r\n+                </tr>\r\n+              ))\r\n+            ) : (\r\n+              <tr>\r\n+                <td colSpan=\"3\" className=\"text-center py-6 text-gray-400\">\r\n+                  Aucune specialite trouvée.\r\n+                </td>\r\n+              </tr>\r\n+            )}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      <div className=\"flex justify-end mt-4 gap-2\">\r\n+        <button\r\n+          onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n+          className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded disabled:opacity-50\"\r\n+          disabled={currentPage === 1}\r\n+        >\r\n+          Précédent\r\n+        </button>\r\n+        {[...Array(totalPages)].map((_, index) => (\r\n+          <button\r\n+            key={index}\r\n+            onClick={() => setCurrentPage(index + 1)}\r\n+            className={`px-3 py-1 rounded ${\r\n+              currentPage === index + 1\r\n+                ? \"bg-blue-600 text-white\"\r\n+                : \"bg-gray-100 hover:bg-gray-200\"\r\n+            }`}\r\n+          >\r\n+            {index + 1}\r\n+          </button>\r\n+        ))}\r\n+        <button\r\n+          onClick={() =>\r\n+            setCurrentPage((prev) => Math.min(prev + 1, totalPages))\r\n+          }\r\n+          className=\"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded disabled:opacity-50\"\r\n+          disabled={currentPage === totalPages}\r\n+        >\r\n+          Suivant\r\n+        </button>\r\n+      </div>\r\n+\r\n+  \r\n+     \r\n+\r\n+   \r\n+\r\n+   \r\n+\r\n+      \r\n+\r\n+     \r\n+\r\n+      {showModalSpecialite && (\r\n+        <AjouterSpecialite\r\n+          isOpen={showModalSpecialite}\r\n+          onClose={() => setShowModalSpecialite(false)}\r\n+          fetchdata={getAllSpecialite}\r\n+        />\r\n+      )}\r\n+    </div>\r\n+  )\r\n }\r\n \r\n export default GestionSpecialite;\r\n"
                },
                {
                    "date": 1748453637683,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,10 +72,10 @@\n               <th className=\"px-6 py-3 text-left\">Actions</th>\r\n             </tr>\r\n           </thead>\r\n           <tbody className=\"divide-y divide-gray-100 text-gray-700\">\r\n-            {filteredSpecilaite.length > 0 ? (\r\n-              filteredSpecilaite?.map((sp) => (\r\n+            {paginatedData.length > 0 ? (\r\n+              paginatedData?.map((sp) => (\r\n                 <tr key={sp._id} className=\"hover:bg-gray-50\">\r\n                   <td className=\"px-6 py-4\">{sp.label}</td>\r\n \r\n                   <td className=\"px-6 py-4 flex gap-4 items-center\">\r\n"
                }
            ],
            "date": 1748452830252,
            "name": "Commit-0",
            "content": "import React from 'react'\r\n\r\nfunction GestionSpecialite() {\r\n  return (\r\n    <div>GestionSpecialite</div>\r\n  )\r\n}\r\n\r\nexport default GestionSpecialite"
        }
    ]
}